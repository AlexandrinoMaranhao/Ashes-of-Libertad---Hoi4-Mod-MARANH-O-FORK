on_actions = {

      on_capitulation = {
 
        effect = {  ##### Cuban Wars

           if = { 
            limit = {
            FROM = { 
              original_tag = BTA 
            }
            ROOT = { 
              original_tag = JUV 
            }
          }
          FROM = {
            white_peace = ROOT
            annex_country = {
              target = ROOT
              transfer_troops = no
            }
          }
        }

           if = { 
            limit = {
            FROM = { 
              original_tag = JUV 
            }
            ROOT = { 
              original_tag = BTA 
            }
          }
          FROM = {
            white_peace = ROOT
            annex_country = {
              target = ROOT
              transfer_troops = no
            }
          }
        }

           if = { 
            limit = {
            FROM = { 
              original_tag = ACC 
            }
            ROOT = { 
              original_tag = JUV 
            }
          }
          FROM = {
            white_peace = ROOT
            annex_country = {
              target = ROOT
              transfer_troops = no
            }
          }
        }

           if = { 
            limit = {
            FROM = { 
              original_tag = JUV 
            }
            ROOT = { 
              original_tag = ACC 
            }
          }
          FROM = {
            white_peace = ROOT
            annex_country = {
              target = ROOT
              transfer_troops = no
            }
          }
        }

           if = { 
            limit = {
            FROM = { 
              original_tag = ECR 
            }
            ROOT = { 
              original_tag = CUB 
            }
          }
          FROM = {
            white_peace = ROOT
            annex_country = {
              target = ROOT
              transfer_troops = no
            }
          }
        }

           if = { 
            limit = {
            FROM = { 
              original_tag = CUB 
            }
            ROOT = { 
              original_tag = ECR 
            }
          }
          FROM = {
            white_peace = ROOT
            annex_country = {
              target = ROOT
              transfer_troops = no
            }
          }
        }

           if = { 
            limit = {
            FROM = { 
              original_tag = ACC 
            }
            ROOT = { 
              original_tag = CUB 
            }
          }
          FROM = {
            white_peace = ROOT
            annex_country = {
              target = ROOT
              transfer_troops = no
            }
          }
        }

           if = { 
            limit = {
            FROM = { 
              original_tag = CUB 
            }
            ROOT = { 
              original_tag = ACC 
            }
          }
          FROM = {
            white_peace = ROOT
            annex_country = {
              target = ROOT
              transfer_troops = no
            }
          }
        }

           if = { 
            limit = {
            FROM = { 
              original_tag = CUP 
            }
            ROOT = { 
              original_tag = CUB 
            }
          }
          FROM = {
            white_peace = ROOT
            annex_country = {
              target = ROOT
              transfer_troops = no
            }
          }
        }

           if = { 
            limit = {
            FROM = { 
              original_tag = CUB 
            }
            ROOT = { 
              original_tag = CUP 
            }
          }
          FROM = {
            white_peace = ROOT
            annex_country = {
              target = ROOT
              transfer_troops = no
            }
          }
        }

           if = { 
            limit = {
            FROM = { 
              original_tag = CUP 
            }
            ROOT = { 
              original_tag = CDR 
            }
          }
          FROM = {
            white_peace = ROOT
            annex_country = {
              target = ROOT
              transfer_troops = no
            }
          }
        }

           if = { 
            limit = {
            FROM = { 
              original_tag = CDR 
            }
            ROOT = { 
              original_tag = CUP 
            }
          }
          FROM = {
            white_peace = ROOT
            annex_country = {
              target = ROOT
              transfer_troops = no
            }
          }
        }

           if = { 
            limit = {
            FROM = { 
              original_tag = ESC 
            }
            ROOT = { 
              original_tag = CDR 
            }
          }
          FROM = {
            white_peace = ROOT
            annex_country = {
              target = ROOT
              transfer_troops = no
            }
          }
        }
             if = { 
            limit = {
            FROM = { 
              original_tag = CDR 
            }
            ROOT = { 
              original_tag = ESC 
            }
          }
          FROM = {
            white_peace = ROOT
            annex_country = {
              target = ROOT
              transfer_troops = no
            }
          }
        }
  
           if = { 
            limit = {
            FROM = {
              original_tag = DRE 
            }
            ROOT = { 
              original_tag = BTA 
            }
          }
          FROM = {
            white_peace = ROOT
            annex_country = {
              target = ROOT
              transfer_troops = no
            }
          }
        }
   
           if = { 
            limit = {
            FROM = {
              original_tag = BTA 
            }
            ROOT = { 
              original_tag = DRE 
            }
          }
          FROM = {
            white_peace = ROOT
            annex_country = {
              target = ROOT
              transfer_troops = no
            }
          }
        }
   
           if = { 
            limit = {
            FROM = {
              original_tag = RED 
            }
            ROOT = { 
              original_tag = BTA 
            }
          }
          FROM = {
            white_peace = ROOT
            annex_country = {
              target = ROOT
              transfer_troops = no
            }
          }
        }
   
           if = { 
            limit = {
            FROM = {
              original_tag = BTA 
            }
            ROOT = { 
              original_tag = RED 
            }
          }
          FROM = {
            white_peace = ROOT
            annex_country = {
              target = ROOT
              transfer_troops = no
            }
          }
        }
           if = { 
            limit = {
            FROM = {
              original_tag = CUB 
            }
            ROOT = { 
              original_tag = BTA 
            }
          }
          FROM = {
            white_peace = ROOT
            annex_country = {
              target = ROOT
              transfer_troops = no
            }
          }
        }
           if = { 
            limit = {
            FROM = {
              original_tag = BTA 
            }
            ROOT = { 
              original_tag = CUB 
            }
          }
          FROM = {
            white_peace = ROOT
            annex_country = {
              target = ROOT
              transfer_troops = no
            }
          }
        }
           if = { 
            limit = {
            FROM = { 
              original_tag = BTA 
            }
            ROOT = { 
              original_tag = CDR 
            }
          }
          FROM = {
            white_peace = ROOT
            annex_country = {
              target = ROOT
              transfer_troops = no
            }
          }
        }
           if = { 
            limit = {
            FROM = { 
              original_tag = ACC 
            }
            ROOT = { 
              original_tag = RED 
            }
          }
          FROM = {
            white_peace = ROOT
            annex_country = {
              target = ROOT
              transfer_troops = no
            }
          }
        }
           if = { 
            limit = {
            FROM = { 
              original_tag = ACC 
            }
            ROOT = { 
              original_tag = DRE 
            }
          }
          FROM = {
            white_peace = ROOT
            annex_country = {
              target = ROOT
              transfer_troops = no
            }
          }
        }
 
           if = {
            limit = {
            FROM = { 
              original_tag = DRE 
            }
            ROOT = { 
              original_tag = ACC 
            }
          }
          FROM = {
            white_peace = ROOT
            annex_country = {
              target = ROOT
              transfer_troops = no
            }
          }
        }
 
           if = { 
            limit = {
            FROM = { 
              original_tag = RED 
            }
            ROOT = { 
              original_tag = ACC 
            }
          }
          FROM = {
            white_peace = ROOT
            annex_country = {
              target = ROOT
              transfer_troops = no
            }
          }
        }
        
        if = { 
          limit = {
          FROM = { 
            original_tag = RED 
          }
          ROOT = { 
            original_tag = ACC 
          }
        }
        FROM = {
          white_peace = ROOT
          annex_country = {
            target = ROOT
            transfer_troops = no
          }
        }
      }

        if = { 
          limit = {
          FROM = { 
            original_tag = RED 
          }
          ROOT = { 
            original_tag = NEH 
          }
        }
        FROM = {
          white_peace = ROOT
          annex_country = {
            target = ROOT
            transfer_troops = no
          }
        }
      }
        
        if = { 
          limit = {
          FROM = { 
            original_tag = DRE 
          }
          ROOT = { 
            original_tag = NEH 
          }
        }
        FROM = {
          white_peace = ROOT
          annex_country = {
            target = ROOT
            transfer_troops = no
          }
        }
      }

        if = { 
          limit = {
          FROM = { 
            original_tag = NEH 
          }
          ROOT = { 
            original_tag = DRE 
          }
        }
        FROM = {
          white_peace = ROOT
          annex_country = {
            target = ROOT
            transfer_troops = no
          }
        }
      }

        if = { 
          limit = {
          FROM = { 
            original_tag = NEH 
          }
          ROOT = { 
            original_tag = RED 
          }
        }
        FROM = {
          white_peace = ROOT
          annex_country = {
            target = ROOT
            transfer_troops = no
          }
        }
      }

        if = { 
          limit = {
          FROM = { 
            original_tag = CDR 
          }
          ROOT = { 
            original_tag = CUB 
          }
        }
        FROM = {
          white_peace = ROOT
          annex_country = {
            target = ROOT
            transfer_troops = no
          }
        }
      }

        if = { 
          limit = {
          FROM = { 
            original_tag = CUB 
          }
          ROOT = { 
            original_tag = CDR 
          }
        }
        FROM = {
          white_peace = ROOT
          annex_country = {
            target = ROOT
            transfer_troops = no
          }
        }
      }

        if = { 
          limit = {
          FROM = { 
            original_tag = DRE 
          }
          ROOT = { 
            original_tag = RUM 
          }
        }
        FROM = {
          white_peace = ROOT
          annex_country = {
            target = ROOT
            transfer_troops = no
          }
        }
      }

        if = { 
          limit = {
          FROM = { 
            original_tag = RUM 
          }
          ROOT = { 
            original_tag = DRE 
          }
        }
        FROM = {
          white_peace = ROOT
          annex_country = {
            target = ROOT
            transfer_troops = no
          }
        }
      }

        if = { 
          limit = {
          FROM = { 
            original_tag = ECR 
          }
          ROOT = { 
            original_tag = RUM 
          }
        }
        FROM = {
          white_peace = ROOT
          annex_country = {
            target = ROOT
            transfer_troops = no
          }
        }
      }

        if = { 
          limit = {
          FROM = { 
            original_tag = RUM 
          }
          ROOT = { 
            original_tag = ECR 
          }
        }
        FROM = {
          white_peace = ROOT
          annex_country = {
            target = ROOT
            transfer_troops = no
          }
        }
      }

        if = { 
          limit = {
          FROM = { 
            original_tag = ECR 
          }
          ROOT = { 
            original_tag = CDR 
          }
        }
        FROM = {
          white_peace = ROOT
          annex_country = {
            target = ROOT
            transfer_troops = no
          }
        }
      }

        if = { 
          limit = {
          FROM = { 
            original_tag = CDR 
          }
          ROOT = { 
            original_tag = ECR 
          }
        }
        FROM = {
          white_peace = ROOT
          annex_country = {
            target = ROOT
            transfer_troops = no
          }
        }
      }

        if = { 
          limit = {
          FROM = { 
            original_tag = RUM 
          }
          ROOT = { 
            original_tag = CDR 
          }
        }
        FROM = {
          white_peace = ROOT
          annex_country = {
            target = ROOT
            transfer_troops = no
          }
        }
      }

        if = { 
          limit = {
          FROM = { 
            original_tag = CDR 
          }
          ROOT = { 
            original_tag = RUM 
          }
        }
        FROM = {
          white_peace = ROOT
          annex_country = {
            target = ROOT
            transfer_troops = no
          }
        }
      }

        if = { 
          limit = {
          FROM = { 
            original_tag = NEH 
          }
          ROOT = { 
            original_tag = CDR 
          }
        }
        FROM = {
          white_peace = ROOT
          annex_country = {
            target = ROOT
            transfer_troops = no
          }
        }
      }

        if = { 
          limit = {
          FROM = { 
            original_tag = CDR 
          }
          ROOT = { 
            original_tag = NEH 
          }
        }
        FROM = {
          white_peace = ROOT
          annex_country = {
            target = ROOT
            transfer_troops = no
          }
        }
      }

        if = { 
          limit = {
          FROM = { 
            original_tag = RED 
          }
          ROOT = { 
            original_tag = DRE 
          }
        }
        FROM = {
          white_peace = ROOT
          annex_country = {
            target = ROOT
            transfer_troops = no
          }
        }
      }

        if = { 
          limit = {
          FROM = { 
            original_tag = DRE 
          }
          ROOT = { 
            original_tag = RED 
          }
        }
        FROM = {
          white_peace = ROOT
          annex_country = {
            target = ROOT
            transfer_troops = no
          }
        }
      }
      #### West Indies
      if = { 
        limit = {
        FROM = { 
          original_tag = ENG
        }
        ROOT = { 
          original_tag = JAM
        }
      }
      FROM = {
        white_peace = ROOT
        annex_country = {
          target = ROOT
          transfer_troops = no
        }
      }
    }
      #### Colombia
      if = { 
        limit = {
        FROM = {
          OR = {
            original_tag = LBT
            original_tag = FAR
            original_tag = ELN
          } 
          
        }
        ROOT = { 
          original_tag = COL 
        }
      }
      FAR = {
        transfer_state = 290
        transfer_state = 291
        transfer_state = 289
        transfer_state = 293
        annex_country = {
          target = ELN
          transfer_troops = no
        }
        set_cosmetic_tag = FAR_WINS
      }
      LBT = {
        transfer_state = 295
        transfer_state = 298
        transfer_state = 439
        transfer_state = 437
      }
    }
    #### Peru
    if = { 
      limit = {
      FROM = { 
        original_tag = RPE
      }
      ROOT = { 
        original_tag = NLA
      }
    }
    FROM = {
      white_peace = ROOT
      annex_country = {
        target = ROOT
        transfer_troops = no
      }
    }
  }
    if = { 
      limit = {
      FROM = { 
        original_tag = PMI
      }
      ROOT = { 
        original_tag = NLA
      }
    }
    FROM = {
      white_peace = ROOT
      annex_country = {
        target = ROOT
        transfer_troops = no
        }
      }
    }  
    if = { 
      limit = {
      FROM = { 
        original_tag = NCA
      }
      ROOT = { 
        original_tag = HIE
      }
    }
    FROM = {
      white_peace = ROOT
      annex_country = {
        target = ROOT
        transfer_troops = no
        }
      }
    } 
    if = { 
      limit = {
      FROM = { 
        original_tag = UNO
      }
      ROOT = { 
        original_tag = PRU
      }
    }
    FROM = {
      white_peace = ROOT
      annex_country = {
        target = ROOT
        transfer_troops = no
        }
      }
    }
    if = { 
      limit = {
      FROM = { 
        original_tag = ECU
      }
      ROOT = { 
        original_tag = SEC
      }
    }
    FROM = {
      white_peace = ROOT
      annex_country = {
        target = ROOT
        transfer_troops = no
        }
      }
    }
    if = { 
      limit = {
      FROM = { 
        original_tag = UFO
      }
      ROOT = { 
        original_tag = NCA
      }
    }
    FROM = {
      white_peace = ROOT
      annex_country = {
        target = ROOT
        transfer_troops = no
        }
      }
    }  
  }
}
  on_state_control_changed = { 
    effect = {
      if = { #### Jamaica vs West Indies
        limit = {
          ROOT = { original_tag = JAM }          
          FROM = { original_tag = ENG } 
          FROM.FROM = {
            state = 181
          }
        }
        JAM = {
          transfer_state = 181
        }
      }
      if = {  #### Colombia vs ELN
        limit = {
          ROOT = { original_tag = COL }
          FROM = { original_tag = ELN }
          FROM.FROM = {
            COL_la_violencia_trigger_ELN = yes              
          }
        }
        ROOT = {
          annex_country = {
            target = FROM
            transfer_troops = no
          }
        }
      }
      if = {  #### Colombia vs FARC
        limit = {
          ROOT = { original_tag = COL }
          FROM = { original_tag = FAR }
          FROM.FROM = {
            COL_la_violencia_trigger_FAR = yes 
          }
        }
        ROOT = {
          annex_country = {
            target = FROM
            transfer_troops = no
          }
        }
      }
      if = {  #### Colombia vs Libertadores
        limit = {
          ROOT = { original_tag = COL }
          FROM = { original_tag = LBT }
          FROM.FROM = {
            state = 300
          }
        }
        ROOT = {
          annex_country = {
            target = FROM
            transfer_troops = no
          }
        }
      }
      if = {  #### Andean Union vs UNO
      limit = {
        ROOT = { original_tag = PRU }
        FROM = { original_tag = UNO }
        FROM.FROM = {
          PRU_war_trigger_UNO = yes
        }
      }
      ROOT = {
        annex_country = {
          target = FROM
          transfer_troops = no
          }
        }
      }
      if = {  #### SEC vs Ecuador
      limit = {
        ROOT = { original_tag = SEC }
        FROM = { original_tag = ECU }
        FROM.FROM = {
          SEC_war_trigger_ECU = yes
        }
      }
      ROOT = {
        annex_country = {
          target = FROM
          transfer_troops = no
          }
        }
      }
      if = {  #### Para vs Kayapo
      limit = {
        ROOT = { original_tag = BEM }
        FROM = { original_tag = KAY }
        FROM.FROM = {
          BEM_war_trigger_KAY = yes
        }
      }
      BEM = {
        transfer_state = 87
        transfer_state = 140
        transfer_state = 471
        }
      JAG = {
        transfer_state = 149
        }  
      }
    }
  }
} 