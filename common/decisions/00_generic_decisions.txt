#find_resources = {
#     develop_infrastructure = {
#          complete_effect = {
#               random_owned_state = {
#                    add_building_construction = { type = infrastructure level = 2 instant_build = yes }
#               }
#               add_manpower = -500
#          }
#      }
#
#}
#

weaponstash_system_category = {

	hid_weapons = {

		icon = GFX_hid_weapons_decision
		state_target = yes
		on_map_mode = map_only
		target_trigger = {
			FROM = {
				all_neighbor_state = {
					AND = {
							NOT = {
								has_state_flag = stashed_weapons
							}
						is_owned_and_controlled_by = ROOT
					}
				}
			}
		}
		
		available = {
			has_country_flag = can_stash
		}
		
		fire_only_once = no
		days_re_enable = 5

		visible = {
			ROOT = {
				is_ai = no
			}		
		}
		

		cost = 25

		#

		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -1000
			}
			ROOT = {
				random_owned_state = {
					set_state_flag = stashed_weapons
				}
			}
		}
		
		#

		ai_will_do = {
			factor = 0
		}
	}
	
	use_hid_weapons = {

		icon = GFX_use_hid_weapons_decision
		
		days_remove = 30
		
		state_target = yes
		on_map_mode = map_only
		target_trigger = {
			FROM = {
				any_neighbor_state = {
					AND = {
						has_state_flag = stashed_weapons
						is_owned_and_controlled_by = ROOT
					}
				}
			}
		}
		
		available = {

		}
		
		fire_only_once = yes

		visible = {
			FROM = {
				any_neighbor_state = {
					AND = {
						has_state_flag = stashed_weapons
						is_owned_and_controlled_by = ROOT
					}
				}
			}
		}
		

		cost = 50

		#

		complete_effect = {
			ROOT = {
				random_state = {
					limit = {
						has_state_flag = stashed_weapons
						is_owned_and_controlled_by = FROM
					}
					add_dynamic_modifier = {
						modifier = using_weapon_stashes
						days = 30
					}
				}
			}
		}
		remove_effect = {
			random_state = {
					limit = {
						has_state_flag = stashed_weapons
						is_owned_and_controlled_by = FROM
					}
				clr_state_flag = stashed_weapons
			}
		}
		
		#

		ai_will_do = {
			factor = 0
		}
	}

}

change_social_laws = {

	WR_improve_law_1 = {

		icon = GFX_decision_icon_default
		days_remove = 30
		is_good = yes

		available = {
			has_idea = WR_no_regulations
		}

		days_re_enable = 7

		visible = {
			has_idea = WR_no_regulations
		}

		cost = 150

		remove_effect = {
			swap_ideas = {
				remove_idea = WR_no_regulations
				add_idea = WR_minimal_regulations
			}
		}

		complete_effect  = {
			add_stability = 0.01
		}


		ai_will_do = {
			factor = 100
		}
	}
	WR_improve_law_2 = {

		icon = GFX_decision_icon_default
		days_remove = 30
		is_good = yes

		available = {
			has_idea = WR_minimal_regulations
		}

		days_re_enable = 7

		visible = {
			has_idea = WR_minimal_regulations
		}

		cost = 150

		remove_effect = {
			swap_ideas = {
				remove_idea = WR_minimal_regulations
				add_idea = WR_acceptable_regulations
			}
		}

		complete_effect  = {

			add_stability = 0.01
		}


		ai_will_do = {
			factor = 100
		}
	}
	
	WR_improve_law_3 = {

		icon = GFX_decision_icon_default
		days_remove = 30
		is_good = yes

		available = {
			has_idea = WR_acceptable_regulations
		}

		days_re_enable = 7

		visible = {
			has_idea = WR_acceptable_regulations
		}

		cost = 150

		remove_effect = {
			swap_ideas = {
				remove_idea = WR_acceptable_regulations
				add_idea = WR_excellent_regulations
			}
		}

		complete_effect  = {

			add_stability = 0.01
		}


		ai_will_do = {
			factor = 100
		}
	}
	
	SI_improve_law_1 = {

		icon = GFX_decision_icon_default
		days_remove = 30
		is_good = yes

		available = {
			has_idea = SI_no_regulations
		}

		days_re_enable = 7

		visible = {
			has_idea = SI_no_regulations
		}

		cost = 150

		remove_effect = {
			swap_ideas = {
				remove_idea = SI_no_regulations
				add_idea = SI_minimal_regulations
			}
		}

		complete_effect  = {

			
			add_stability = 0.01
		}


		ai_will_do = {
			factor = 100
		}
	}
	
	SI_improve_law_2 = {

		icon = GFX_decision_icon_default
		days_remove = 30
		is_good = yes

		available = {
				has_idea = SI_minimal_regulations
		}

		days_re_enable = 7

		visible = {
			has_idea = SI_minimal_regulations
		}

		cost = 150

		remove_effect = {
			swap_ideas = {
				remove_idea = SI_minimal_regulations
				add_idea = SI_acceptable_regulations
			}
		}

		complete_effect  = {

			add_stability = 0.01
		}


		ai_will_do = {
			factor = 100
		}
	}
	
	SI_improve_law_3 = {

		icon = GFX_decision_icon_default
		days_remove = 30
		is_good = yes

		available = {
			has_idea = SI_acceptable_regulations
		}

		days_re_enable = 7

		visible = {
			has_idea = SI_acceptable_regulations
		}

		cost = 150

		remove_effect = {
			swap_ideas = {
				remove_idea = SI_acceptable_regulations
				add_idea = SI_excellent_regulations
			}
		}

		complete_effect  = {

			add_stability = 0.01
		}


		ai_will_do = {
			factor = 100
		}
	}

	PR_improve_law_1 = {

		icon = GFX_decision_icon_default
		days_remove = 30
		is_good = yes

		available = {
			has_idea = wasteland_misery
		}

		days_re_enable = 7

		visible = {
			has_idea = wasteland_misery
		}

		cost = 150

		remove_effect = {
			swap_ideas = {
				remove_idea = wasteland_misery
				add_idea = bellow_poverty_line
			}
		}

		complete_effect  = {

			
			add_stability = 0.01
		}


		ai_will_do = {
			factor = 100
		}
	}
	
	PR_improve_law_2 = {

		icon = GFX_decision_icon_default
		days_remove = 30
		is_good = yes

		available = {
			has_idea = bellow_poverty_line
		}

		days_re_enable = 7

		visible = {
			has_idea = bellow_poverty_line
		}

		cost = 150

		remove_effect = {
			swap_ideas = {
				remove_idea = bellow_poverty_line
				add_idea = vital_needs_fulfilled
			}
		}

		complete_effect  = {

			add_stability = 0.01
		}


		ai_will_do = {
			factor = 100
		}
	}
	
	PR_improve_law_3 = {

		icon = GFX_decision_icon_default
		days_remove = 30
		is_good = yes

		available = {
			has_idea = vital_needs_fulfilled
		}

		days_re_enable = 7

		visible = {
			has_idea = vital_needs_fulfilled
		}

		cost = 150

		remove_effect = {
			swap_ideas = {
				remove_idea = vital_needs_fulfilled
				add_idea = confortable_living_standarts
			}
		}

		complete_effect  = {

			add_stability = 0.01
		}


		ai_will_do = {
			factor = 100
		}
	}
	
	PR_improve_law_4 = {

		icon = GFX_decision_icon_default
		days_remove = 30
		is_good = yes

		available = {
			has_idea = confortable_living_standarts
		}

		days_re_enable = 7

		visible = {
			has_idea = confortable_living_standarts
		}

		cost = 200

		remove_effect = {
			swap_ideas = {
				remove_idea = confortable_living_standarts
				add_idea = luxury_needs_fulfilled
			}
		}

		complete_effect  = {

			add_stability = 0.01
		}


		ai_will_do = {
			factor = 100
		}
	}

	ER_improve_law_1 = {

		icon = GFX_decision_icon_default
		days_remove = 30
		is_good = yes

		available = {
			has_idea = no_education
		}

		days_re_enable = 7

		visible = {
			has_idea = no_education
		}

		cost = 150

		remove_effect = {
			swap_ideas = {
				remove_idea = no_education
				add_idea = primary_education
			}
		}

		complete_effect  = {

			
			add_stability = 0.01
		}


		ai_will_do = {
			factor = 100
		}
	}
	
	ER_improve_law_2 = {

		icon = GFX_decision_icon_default
		days_remove = 30
		is_good = yes

		available = {
			has_idea = primary_education
		}

		days_re_enable = 7

		visible = {
			has_idea = primary_education
		}

		cost = 150

		remove_effect = {
			swap_ideas = {
				remove_idea = primary_education
				add_idea = secondary_education
			}
		}

		complete_effect  = {

			add_stability = 0.01
		}


		ai_will_do = {
			factor = 100
		}
	}
	
	ER_improve_law_3 = {

		icon = GFX_decision_icon_default
		days_remove = 30
		is_good = yes

		available = {
			has_idea = secondary_education
		}

		days_re_enable = 7

		visible = {
			has_idea = secondary_education
		}

		cost = 150

		remove_effect = {
			swap_ideas = {
				remove_idea = secondary_education
				add_idea = tertiary_education
			}
		}

		complete_effect  = {

			add_stability = 0.01
		}


		ai_will_do = {
			factor = 100
		}
	}
	
	ER_improve_law_4 = {

		icon = GFX_decision_icon_default
		days_remove = 30
		is_good = yes

		available = {
			has_idea = tertiary_education
		}

		days_re_enable = 7

		visible = {
			has_idea = tertiary_education
		}

		cost = 200

		remove_effect = {
			swap_ideas = {
				remove_idea = tertiary_education
				add_idea = masters_education
			}
		}

		complete_effect  = {

			add_stability = 0.01
		}


		ai_will_do = {
			factor = 100
		}
	}
}

generic_like_tno_or_smth = {
	
	take_the_xingu_national_park = {
		activation = {
			AND = {
				ROOT = {
					controls_state = 150
				}
				NOT = {has_idea = the_xingu_national_park}
			}
		}
		available = {
			ROOT = {
				controls_state = 150
			}
		}
		cancel_trigger = {
			OR = {
				NOT = {
					ROOT = {
						controls_state = 150
					}
				}
				has_idea = the_xingu_national_park
			}
		}
		icon = mission_icon     # For GFX_decision_mission_icon
		is_good = yes
		days_mission_timeout = 7
		complete_effect = {
			add_ideas = the_xingu_national_park
		}
	}
	
	take_cachimbo = {
		activation = {
			AND = {
				ROOT = {
					controls_state = 471
				}
				NOT = {has_idea = cachimbo_military_base}
			}
		}	
		available = {
			ROOT = {
				controls_state = 471
			}
		}
		cancel_trigger = {
			OR = {
				NOT = {
					ROOT = {
						controls_state = 471
					}
				}
				has_idea = cachimbo_military_base
			}
		}
		icon = mission_icon     # For GFX_decision_mission_icon
		is_good = yes
		days_mission_timeout = 7
		complete_effect = {
			add_ideas = cachimbo_military_base
		}
	}
	
	take_itajub = {
		activation = {
			AND = {
				ROOT = {
					controls_state = 585
				}
				NOT = {has_idea = GENERIC_the_itajub_arms_factory}
			}
		}	
		available = {
			ROOT = {
				controls_state = 585
			}
		}
		cancel_trigger = {
			OR = {
				NOT = {
					ROOT = {
						controls_state = 585
					}
				}
				has_idea = GENERIC_the_itajub_arms_factory
			}
		}
		icon = mission_icon     # For GFX_decision_mission_icon
		is_good = yes
		days_mission_timeout = 7
		complete_effect = {
			add_ideas = GENERIC_the_itajub_arms_factory
		}
	}
	
	RMI_take_itajub_back_mission = {
		icon = GFX_decision_icon_default
			
		available = {
			AND = {
				original_tag = RMI
				RMI = {NOT = {controls_state = 585}}
			}
		}
			
		days_remove = 120
			
		fire_only_once = no
		days_re_enable = 1
			
		visible = {
			AND = {
				original_tag = RMI
				RMI = {NOT = {controls_state = 585}}
			}
		}		
			
		cost = 0
			
		complete_effect = {
			start_border_war = {
				change_state_after_war = no
				attacker = {
					state = 66
					num_provinces = 4
					on_win = SAO_operations.3
					on_lose = SAO_operations_failure.3
					on_cancel = SAO_operations.3
				}
				defender = {
					state = 585
					num_provinces = 4
					on_win = SAO_operations_failure.3
					on_lose = SAO_operations.3
					on_cancel = SAO_operations.3
				}
			}
		}
			
		ai_will_do = {
			factor = 900	
		}
	}
}
