add_namespace = RPB

country_event = {
    id = RPB.1 # RPB Revolt
    title = RPB.1.t
    desc = RPB.1.d
    picture = x
    is_triggered_only = yes
    fire_only_once = yes 

    option = {
	  name = RPB.1.a
	    LAM = {
			declare_war_on = {
				target = CNU 
				type = annex_everything
			}
		}
    every_country = {
        news_event = {
            id = world.81
            days = 1
        }
    }
    load_oob = "RPB_Bahia"

		remove_ideas = the_baiana_revolt
		remove_ideas = free_port_of_salvador
		remove_ideas = anarchist_powerkeg
		remove_ideas = cangaceiros_heavy
		add_ideas = the_women_revolt

			declare_war_on = {
				target = LAM 
				type = annex_everything
			}

			declare_war_on = {
				target = CNU 
				type = annex_everything
			}

		BMF = {
			transfer_state  = 52

    load_oob = "BMF_Bahia"
			declare_war_on = {
				target = LAM 
				type = annex_everything
			}

			declare_war_on = {
				target = CNU 
				type = annex_everything
			}

			declare_war_on = {
				target = RPB 
				type = annex_everything
			}

			declare_war_on = {
				target = CAN 
				type = annex_everything
			}

			declare_war_on = {
				target = MAL 
				type = annex_everything
			}

			declare_war_on = {
				target = PCR 
				type = annex_everything
			}

                        every_state = {
                limit = {
                    is_owned_by = MAL
                    is_owned_by = PCR
                    is_owned_by = RPB
                    is_owned_by = CAN
                    is_owned_by = CNU
                    is_owned_by = LAM
                }
                add_core_of = BFM 
            }
		}

		CAN = {
			transfer_state  = 463
    load_oob = "CAN_Bahia"

			declare_war_on = {
				target = LAM 
				type = annex_everything
			}

			declare_war_on = {
				target = CNU 
				type = annex_everything
			}

			declare_war_on = {
				target = RPB 
				type = annex_everything
			}

			declare_war_on = {
				target = BMF 
				type = annex_everything
			}

			declare_war_on = {
				target = MAL 
				type = annex_everything
			}

			declare_war_on = {
				target = PCR 
				type = annex_everything
			}
                        every_state = {
                limit = {
                    is_owned_by = MAL
                    is_owned_by = PCR
                    is_owned_by = RPB
                    is_owned_by = BFM
                    is_owned_by = CNU
                    is_owned_by = LAM
                }
                add_core_of = CAN
            }
		}

		MAL = {
			transfer_state  = 53
    load_oob = "MAL_Bahia"

			declare_war_on = {
				target = LAM 
				type = annex_everything
			}

			declare_war_on = {
				target = CNU 
				type = annex_everything
			}

			declare_war_on = {
				target = RPB 
				type = annex_everything
			}

			declare_war_on = {
				target = BMF 
				type = annex_everything
			}

			declare_war_on = {
				target = CAN 
				type = annex_everything
			}

			declare_war_on = {
				target = PCR 
				type = annex_everything
			}
                        every_state = {
                limit = {
                    is_owned_by = BFM
                    is_owned_by = PCR
                    is_owned_by = RPB
                    is_owned_by = CAN
                    is_owned_by = CNU
                    is_owned_by = LAM
                }
                add_core_of = MAL 
            }
		}

		PCR = {
			transfer_state  = 57
    load_oob = "PCB_Bahia"
			declare_war_on = {
				target = LAM 
				type = annex_everything
			}

			declare_war_on = {
				target = CNU 
				type = annex_everything
			}

			declare_war_on = {
				target = RPB 
				type = annex_everything
			}

			declare_war_on = {
				target = BMF 
				type = annex_everything
			}

			declare_war_on = {
				target = CAN 
				type = annex_everything
			}

			declare_war_on = {
				target = MAL 
				type = annex_everything
			}
                        every_state = {
                limit = {
                    is_owned_by = MAL
                    is_owned_by = BFM
                    is_owned_by = RPB
                    is_owned_by = CAN
                    is_owned_by = CNU
                    is_owned_by = LAM
                }
                add_core_of = PCR 
            }
		}
INT = {
      add_to_faction = PCR
      }

if = {
    limit = {
        CRJ = { is_faction_leader = yes }
    }
    
    CRJ = { add_to_faction = BMF }
    }
if = {
    limit = {
        MNH = { is_faction_leader = yes }
    }
    MNH = { add_to_faction = BMF }
    }
}
