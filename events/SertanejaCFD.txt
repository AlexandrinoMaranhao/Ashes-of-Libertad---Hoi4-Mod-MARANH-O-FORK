add_namespace = CFD_intro
add_namespace = CFD_events
add_namespace = CFD_elections
add_namespace = CFD_operations
add_namespace = CFD_operation_failure
add_namespace = CFD_failometer_enabled
add_namespace = CFD
add_namespace = PEB

country_event = { #Intro1
    id = CFD_intro.1
    title = CFD_intro.1.t
    desc = CFD_intro.1.d
    is_triggered_only = yes
    picture = GFX_report_cfd_fernandinho2

    option = {
        name = CFD_intro.1.a
    }
}

country_event = { #Intro2
    id = CFD_intro.2
    title = CFD_intro.2.t
    desc = CFD_intro.2.d
    is_triggered_only = yes
    picture = GFX_report_cfd_riots

    option = {
        name = CFD_intro.2.a
    }
}

country_event = { #Intro3
    id = CFD_intro.3
    title = CFD_intro.3.t
    desc = CFD_intro.3.d
    is_triggered_only = yes
    picture = GFX_report_cfd_hope

    option = {
        name = CFD_intro.3.a
    }
}

country_event = { #Sertaneja's Euphoria
    id = CFD_intro.4
    title = CFD_intro.4.t
    desc = CFD_intro.4.d
    is_triggered_only = yes
    picture = GFX_report_cfd_moring_cock

    option = {
        name = CFD_intro.4.a
		CFD = {
			add_timed_idea = {
				idea = CFD_sertanejeira_euphoria
				days = 51
			} 
		}
    }
}

country_event = { #The Hell Battalion returns from Piaui
    id = CFD_events.1
    title = CFD_events.1.t
    desc = CFD_events.1.d
    is_triggered_only = yes
    picture = GFX_report_cfd_portella_intro

    option = {
        name = CFD_events.1.a
		CFD = {
			custom_effect_tooltip = "Petrônio Portella will become a Army General."
			set_country_flag = portella_alive
			hidden_effect = {
				country_event = {
					id = CFD_events.2	
					days = 7
				}
			}
		}
    }
}

country_event = { #Portella and Miguel
    id = CFD_events.2
    title = CFD_events.2.t
    desc = CFD_events.2.d
    is_triggered_only = yes
    picture = GFX_report_cfd_miguel

    option = {
        name = CFD_events.2.a
		custom_effect_tooltip = "This activates the Piauí Frontier's operations decisions."
		CFD = {
			set_country_flag = begin_piaui_frontier
			hidden_effect = {
				PIA = { #Piaui Collapse
					release = BEP
					release = PIM
					release = PNA
					release = JIN
					release = VDP
					set_politics = {
						ruling_party = democratic
						elections_allowed = no
						last_election = "1966.12.17"
						long_name = PIA_PG_party_long
						name = PIA_PG_party
					}
					add_popularity = {
						ideology = democratic
						popularity = 1.0
					}
					set_cosmetic_tag = PIA_PG
					remove_ideas = {
						cangaceiros_total
					}
					add_ideas = {
						PIA_wolf_adminstration
						cangaceiros_heavy
					}
				}
				JIN = {load_oob = "JIN_1967"}
				BEP = {load_oob = "BEP_1967"}
				PIM = {load_oob = "PIM_1967"}
				PNA = {load_oob = "PNA_1967"}
				VDP = {
					load_oob = "VDP_1967"
					inherit_technology = PIA
				}
			}
		}
    }
}

country_event = { #Guerra's Letter
    id = CFD_events.3
    title = CFD_events.3.t
    desc = CFD_events.3.d
    is_triggered_only = yes
    picture = GFX_report_cfd_elections1

    option = {
        name = CFD_events.3.a
    }
}
country_event = { #Arraes and Bezerra
    id = CFD_events.4
    title = CFD_events.4.t
    desc = CFD_events.4.d
    is_triggered_only = yes
    picture = GFX_report_cfd_elections1

    option = {
        name = CFD_events.4.a
    }
}

country_event = { #Sampaio Plans 2
    id = CFD_events.5
    title = CFD_events.5.t
    desc = CFD_events.5.d
	trigger = {
		tag = CFD
		CFD = {
			has_completed_focus = CFD_foundssgbandecosess
			has_completed_focus = CFD_thecreationofssocoperbess
		}
	}
	fire_only_once = yes
    picture = GFX_report_cfd_cid_plans

    option = {
        name = CFD_events.5.a
		add_stability = 0.1
		add_popularity = {
			ideology = democratic
			popularity = 0.02
		}
		custom_effect_tooltip = "This will unify the development national spirits into a single one."
		hidden_effect = {
			add_political_power = 150
			add_ideas = {CFD_sudene CFD_cid_sempaio_advisor}
			remove_ideas = {CFD_the_bandecose CFD_the_coperbe}
			clr_country_flag = CFD_cid_adminstration
		}
    }
}
country_event = { #The Betrayal (Bezerra and Prestes)
    id = CFD_events.6
    title = CFD_events.6.t
    desc = CFD_events.6.d
    is_triggered_only = yes
    picture = GFX_report_cfd_bezerra_and_prestes

    option = {
        name = CFD_events.6.a
		custom_effect_tooltip = "Prestes will start to organize a uprising against the Sertaneja Confederation."
		hidden_effect = {
			every_country = {
				news_event = {
					id = world.1
					days = 10
				}
			}
            country_event = {
				id = PEB.1
				days = 7
			}
		}
    }
}

country_event = { #Dom Helder
    id = CFD_events.7
    title = CFD_events.7.t
    desc = CFD_events.7.d
    is_triggered_only = yes
    picture = GFX_report_cfd_helder

    option = {
        name = CFD_events.7.a
    }
}

country_event = { #Doria FDP!
    id = CFD_events.8
    title = CFD_events.8.t
    desc = CFD_events.8.d
    is_triggered_only = yes
    picture = GFX_report_cfd_memories

    option = {
        name = CFD_events.8.a
		CFD = {
			set_country_flag = CFD_sergipe_backstab_enabled
			mark_focus_tree_layout_dirty = yes
			complete_national_focus = CFD_the_sergipe_backstab
			add_ideas = CFD_the_sergipe_backstab 
		}
    }
}

country_event = { #Dória's run 1
    id = CFD_events.900
    title = CFD_events.9.t
    desc = CFD_events.9.d
	trigger = {
		is_ai = yes
		CFD = {
			AND = {
				has_completed_focus = CFD_retakingwhatsours
				controls_state = 11
				controls_state = 572
			}
		}
	}
	fire_only_once = yes
    picture = GFX_report_cfd_memories

    option = {
        name = CFD_events.9.a
		CFD = {
			country_event = {id = CFD_events.9}
		}
    }
}

country_event = { #Doria's run 2
    id = CFD_events.9
    title = CFD_events.9.t
    desc = CFD_events.9.d
    is_triggered_only = yes
    picture = GFX_report_cfd_memories

    option = {
        name = CFD_events.9.a
		CFD = {
			custom_effect_tooltip = "Dória will escape to São Paulo."
			hidden_effect = {
				remove_ideas = CFD_the_sergipe_backstab
				country_event = {id = CFD_events.1090}
			}
		}
    }
	
    option = {
        name = CFD_events.9.b
		CFD = {
			custom_effect_tooltip = "Dória will be brought to justice."
			hidden_effect = {
				set_country_flag = doria_stays
				remove_ideas = CFD_the_sergipe_backstab
				country_event = {id = CFD_events.10}
			}
		}
    }
}


country_event = { #Doria Judgment 1
    id = CFD_events.10
    title = CFD_events.10.t
    desc = CFD_events.10.d
    is_triggered_only = yes
    picture = GFX_report_cfd_memories

    option = {
        name = CFD_events.10.a
		CFD = {
			add_political_power = 100
		}
    }
}

country_event = { #Doria Judgment 2
    id = CFD_events.1090
    title = CFD_events.10.t.1
    desc = CFD_events.10.d.1
    is_triggered_only = yes
    picture = GFX_report_cfd_memories

    option = {
        name = CFD_events.10.b
		CFD = {
			add_intel = {
				target = FRN
				civilian_intel = 100
				army_intel = 100
				navy_intel = 100
				airforce_intel = 100
			}
			add_decryption = {
				target = FRN
				ratio = 0.95
			}
			add_political_power = 50
		}
    }
}

country_event = { #Bezerra's remorse
    id = CFD_events.11
    title = CFD_events.11.t
	desc = {
		text = CFD_events.11.d.normal
		trigger = {
			CFD = {
				NOT = {
					has_government = communism
				}
			}
		}
	}
	desc = {
		text = CFD_events.11.d.bezerra
		trigger = {
			CFD = {
				has_government = communism
			}
		}
	}
    is_triggered_only = yes
    picture = GFX_report_cfd_bezerra_remorse

    option = {
		trigger = {
			CFD = {
				has_government = communism
			}
		}
        name = CFD_events.11.a.bezerra
    }
    option = {
		trigger = {
			CFD = {
				NOT = {
					has_government = communism
				}
			}
		}
        name = CFD_events.11.a.normal
    }
}

country_event = { #Memories of Praieira Flavor
    id = CFD_events.12
    title = CFD_events.12.t
    desc = CFD_events.12.d
    is_triggered_only = yes
    picture = GFX_report_cfd_propaganda

    option = {
        name = CFD_events.12.a
    }
}

country_event = { #Fernandinho
    id = CFD_events.13
    title = {
		text = CFD_events.13.t
		trigger = {
			CFD = {
				NOT = {has_country_flag = CFD_FRN_peace}
			}
		}
	}
    title = {
		text = CFD_events.13.t2
		trigger = {
			CFD = {
				has_country_flag = CFD_FRN_peace
			}
		}
	}
	desc = {
		text = CFD_events.13.d
		trigger = {
			CFD = {
				NOT = {has_country_flag = CFD_FRN_peace}
			}
		}
	}
	desc = {
		text = CFD_events.13.d2
		trigger = {
			CFD = {
				has_country_flag = CFD_FRN_peace
			}
		}
	}
    is_triggered_only = yes
    picture = GFX_report_cfd_fernandinho1

    option = {
        name = CFD_events.13.a
		trigger = {
			CFD = {
				NOT = {has_country_flag = CFD_FRN_peace}
			}
		}
		CFD = {
			declare_war_on = {
				target = FRN
				type = annex_everything
			}
		}
    }
    option = {
        name = CFD_events.13.a2
		trigger = {
			CFD = {
				has_country_flag = CFD_FRN_peace
			}
		}
		CFD = {
			annex_country = {
				target = FRN
				transfer_troops = yes
			}
		}
    }
}

country_event = { #TRE-N Event, Election Awareness
    id = CFD_events.14
    title = CFD_events.14.t
    desc = CFD_events.14.d
    is_triggered_only = yes
    picture = GFX_report_cfd_elections1

    option = {
        name = CFD_events.14.a
		CFD = {
			add_timed_idea = {
				idea = CFD_democratic_spring
				days = 60
			}
		}
    }
}

country_event = { #A Trip to Bahia
    id = CFD_events.15
    title = CFD_events.15.t
    desc = CFD_events.15.d
    is_triggered_only = yes
    picture = GFX_report_cfd_memories

    option = {
        name = CFD_events.15.a
		CFD = {
			diplomatic_relation = {
				country = CNU
				relation = non_aggression_pact
				active = yes
			}
			CNU = {
				add_opinion_modifier = {
					target = CFD
					modifier = large_increase 
				}
			}
		}
    }
}

country_event = { #A Trip to Macapa
    id = CFD_events.16
    title = CFD_events.16.t
    desc = CFD_events.16.d
    is_triggered_only = yes
    picture = GFX_report_cfd_memories

    option = {
        name = CFD_events.16.a
		CFD = {
			diplomatic_relation = {
				country = AMA
				relation = docking_rights
				active = yes
			}
			AMA = {
				add_opinion_modifier = {
					target = CFD
					modifier = large_increase 
				}
			}
		}
    }
}

country_event = { #Sarney's war starting event
    id = CFD_events.17
    title = CFD_events.17.t
    desc = CFD_events.17.d
    is_triggered_only = yes
    picture = GFX_report_cfd_march

    option = {
        name = CFD_events.17.a
		CFD = {
			unlock_decision_category_tooltip = CFD_maranhao_war_category
		}
    }
}

country_event = { #Balance lost control
    id = CFD_events.18
    title = CFD_events.18.t
    desc = CFD_events.18.d
	timeout_days = 7
	trigger = {
		tag = CFD
		CFD = {
			OR = {
				check_variable = {
					var = PCB_balance
					value = CFD_no_balance
					compare = greater_than
				}
				check_variable = {
					var = PSN_balance
					value = CFD_no_balance
					compare = greater_than
				}
			}
		}
	}
    picture = GFX_report_cfd_cid_plans
    option = {
        name = CFD_events.18.a
		CFD = {
			set_variable = { PCB_balance = 0 }
			set_variable = { CFD_no_balance = 1 }
			set_variable = { PSN_balance = 0 }
			add_stability = -0.25
			random_list = {
				25 = {
					add_stability = -0.5
				}
				25 = {
					add_manpower = -10000
				}
				25 = {
					add_war_support = -0.5
				}
				25 = {
					army_experience = -100
				}
			}
		}
    }
}

country_event = { #The Army Situation
    id = CFD_events.19
    title = CFD_events.19.t
    desc = CFD_events.19.d
    is_triggered_only = yes
    picture = GFX_report_cfd_memories

    option = {
        name = CFD_events.19.a
		CFD = {
			add_war_support = 0.05
			army_experience = 25
			unlock_decision_tooltip = CFD_reform_army
			hidden_effect = {
				add_ai_strategy  = {
					type = invade
					id = SEG
					value = 200
				}
				add_ai_strategy  = {
					type = prepare_for_war
					id = SEG
					value = 200
				}
			}
		}
    }
}


country_event = { #The Europeans 1
    id = CFD_events.20
    title = CFD_events.20.t
    desc = CFD_events.20.d
    is_triggered_only = yes
    picture = GFX_report_cfd_memories

    option = {
        name = CFD_events.20.a
		CFD = {

		}
    }
}

country_event = { #The Europeans 2
    id = CFD_events.21
    title = CFD_events.21.t
    desc = CFD_events.21.d
    is_triggered_only = yes
    picture = GFX_report_cfd_memories

    option = {
        name = CFD_events.21.a
		CFD = {

		}
    }
}

country_event = { #The Europeans 3
    id = CFD_events.22
    title = CFD_events.22.t
    desc = CFD_events.22.d
    is_triggered_only = yes
    picture = GFX_report_cfd_memories

    option = {
        name = CFD_events.22.a
		CFD = {

		}
    }
}

country_event = { #Maranhao Lost
    id = CFD_events.23
    title = CFD_events.23.t
    desc = CFD_events.23.d
    is_triggered_only = yes
    picture = GFX_report_cfd_memories

    option = {
        name = CFD_events.22.a
		CFD = {
			puppet = MNH
			transfer_state = 475
			transfer_state = 17
			transfer_state = 474
			MNH = {
				set_politics = {
					ruling_party = democratic
					elections_allowed = no
					last_election = "1935.12.17"
					election_frequency = 48
				}
				remove_ideas = {
					sarneys_feud
					mercenary_army_LAM
					cangaceiros_light
				}
				create_country_leader = {
					name = "Renato Archer"
					desc = ""
					picture = Portrait_Renato_Archer.dds
					expire = "1965.1.1"
					ideology = provisional_government
					traits = {
						
					}
				}
				add_ideas = {
					CFD_warzone
					CFD_rebuilding_maranho
					CFD_sertaneja_occupation
				}
				transfer_state = 21
				transfer_state = 20
				transfer_state = 19
				transfer_state = 18
				transfer_state = 22
				transfer_state = 23
			}
		}
    }
}

country_event = { #Prestes' Countdown to extinction
    id = CFD_events.24
    title = CFD_events.24.t
    desc = CFD_events.24.d
    is_triggered_only = yes
    picture = GFX_report_cfd_bezerra_and_prestes

    option = {
        name = CFD_events.24.a
		CFD = {
			set_country_flag = CFD_prestes_is_returning
			activate_mission = CFD_prestes_returns_timer
		}
    }
}

###########################	The Elections events	###########################

country_event = { #Eleições Start
    id = CFD_elections.1
    title = CFD_elections.1.t
    desc = CFD_elections.1.d
    is_triggered_only = yes
    picture = GFX_report_cfd_family_stuff

    option = {
        name = CFD_elections.1.a
		CFD = {
			custom_effect_tooltip = "This will increase the likelihood of the election happening..."
			add_to_variable = {
				var = CFD_yes_elections_chances
				value = 1
			}
			hidden_effect = {
				CFD = {
					remove_ideas = CFD_piratas_de_noronha 
					country_event = {
						id = CFD_elections.4
						days = 14
					}
					set_country_flag = CFD_elections_phase_1
					mark_focus_tree_layout_dirty = yes
					complete_national_focus = CFD_the_elections
					set_variable = { CFD_no_balance = 1 }
				}
			}
		}
    }
    option = {
        name = CFD_elections.1.b
		CFD = {
			custom_effect_tooltip = "Arraes will attempt to persuade the electoral system to prevent the election from taking place..."
			add_to_variable = {
				var = CFD_no_elections_chances
				value = 1
			}
			hidden_effect = {
				CFD = {
					remove_ideas = CFD_piratas_de_noronha 
					country_event = {
						id = CFD_elections.4
						days = 14
					}
					set_country_flag = CFD_elections_phase_1
					mark_focus_tree_layout_dirty = yes
					complete_national_focus = CFD_the_elections
					set_variable = { CFD_no_balance = 1 }
				}
			}
		}
    }
}

#country_event = { #Election options 1
#    id = CFD_elections.2
#    title = CFD_elections.2.t
#    desc = CFD_elections.2.d
#    is_triggered_only = yes
#    picture = GFX_report_cfd_elections1
#
#    option = {
#        name = CFD_elections.2.a
#		CFD = {
#			custom_effect_tooltip = "This will increase the likelihood of the election happening..."
#			add_to_variable = {
#				var = CFD_yes_elections_chances
#				value = 1
#			}
#			hidden_effect = {
#				country_event = {
#					id = CFD_elections.3
#					days = 7
#				}
#			}
#		}
#    }
#	
#    option = {
#        name = CFD_elections.2.b
#		CFD = {
#			custom_effect_tooltip = "Arraes will attempt to persuade the electoral system to prevent the election from taking place..."
#			add_to_variable = {
#				var = CFD_no_elections_chances
#				value = 1
#			}
#			hidden_effect = {
#				country_event = {
#					id = CFD_elections.3
#					days = 7
#				}
#			}
#		}
#    }
#}
#
#country_event = { #Election options 2
#    id = CFD_elections.3
#    title = CFD_elections.3.t
#    desc = CFD_elections.3.d
#    is_triggered_only = yes
#    picture = GFX_report_cfd_elections1
#
#    option = {
#        name = CFD_elections.3.a
#		CFD = {
#			custom_effect_tooltip = "This will increase the likelihood of the election happening..."
#			add_to_variable = {
#				var = CFD_yes_elections_chances
#				value = 1
#			}
#			hidden_effect = {country_event = {id = CFD_elections.4}}
#		}
#    }
#    option = {
#        name = CFD_elections.3.b
#		CFD = {
#			custom_effect_tooltip = "Arraes will attempt to persuade the electoral system to prevent the election from taking place..."
#			add_to_variable = {
#				var = CFD_no_elections_chances
#				value = 1
#			}
#			hidden_effect = {country_event = {id = CFD_elections.4}}
#		}
#    }
#}

country_event = { #Election yes or no
    id = CFD_elections.4
    title = CFD_elections.3.t
    desc = CFD_elections.3.d
    is_triggered_only = yes
	hidden = yes
    picture = GFX_report_cfd_elections1

    option = { #Arraes coup
        name = CFD_elections.3.a
		trigger = {
			CFD = {
				check_variable = { CFD_no_elections_chances > CFD_yes_elections_chances }
			}
		}
		CFD = {
			hidden_effect = {
				complete_national_focus = CFD_nooneotherthanme
				clear_variable = CFD_no_elections_chances
				
				country_event = {
					id = CFD_events.24
					days = 5
				}
			}	
		}
    }
	
    option = { #Elections is a go!
        name = CFD_elections.3.b
		trigger = {
			CFD = {
				check_variable = { CFD_yes_elections_chances > CFD_no_elections_chances }
			}
		}
		CFD = {
			hidden_effect = {
				complete_national_focus = CFD_continuetheelections
				clear_variable = CFD_yes_elections_chances
				country_event = {
					id = CFD_events.14
					days = 7
				}
			}
		}
    }
}

country_event = { #Election debate 1
    id = CFD_elections.5
    title = CFD_elections.5.t
    desc = CFD_elections.5.d
    is_triggered_only = yes
    picture = GFX_report_cfd_elections1

    option = { ##pro-bezerra
        name = CFD_elections.5.a
		CFD = {
			complete_national_focus = CFD_thepeasantshero 
			add_to_variable = {
				var = CFD_bezerra_support
				value = 1
			}
			hidden_effect = {
				complete_national_focus = CFD_the_zona_da_mataagreste_electoral_campaigns  
			}
		}
    }
	
    option = { ##pro-guerra
        name = CFD_elections.5.b
		CFD = {
			complete_national_focus = CFD_the_green_stars  
			add_to_variable = {
				var = CFD_guerras_support
				value = 0	#NOTA:AUMENTAR PARA 1 PARA ELEICOES.
			}
			add_to_variable = {
				var = CFD_bezerra_support
				value = 1
			}
			hidden_effect = {
				complete_national_focus = CFD_the_zona_da_mataagreste_electoral_campaigns  
			}
		}
    }
}

country_event = { #Election debate 2
    id = CFD_elections.6
    title = CFD_elections.6.t
    desc = CFD_elections.6.d
    is_triggered_only = yes
    picture = GFX_report_cfd_elections1

    option = { ##pro-bezerra
        name = CFD_elections.6.a
		CFD = {
			complete_national_focus = CFD_foramoreegalitarianrecife  
			add_to_variable = {
				var = CFD_bezerra_support
				value = 1
			}
			hidden_effect = {
				complete_national_focus = CFD_thesertaoelectoralcampaigns  
			}
		}
    }
	
    option = { ##pro-guerra
        name = CFD_elections.6.b
		CFD = {
			complete_national_focus = CFD_forabetterrecife 
			add_to_variable = {
				var = CFD_guerras_support
				value = 0	#NOTA:AUMENTAR PARA 1 PARA ELEICOES.
			}
			add_to_variable = {
				var = CFD_bezerra_support
				value = 1
			}
			hidden_effect = {
				complete_national_focus = CFD_thesertaoelectoralcampaigns  
			}
		}
    }
}

country_event = { #Election debate 3
    id = CFD_elections.7
    title = CFD_elections.7.t
    desc = CFD_elections.7.d
    is_triggered_only = yes
    picture = GFX_report_cfd_elections1

    option = { ##pro-bezerra
        name = CFD_elections.7.a
		CFD = {
			complete_national_focus = CFD_tofreethepeasantsfromtheirlandowners 
			add_to_variable = {
				var = CFD_bezerra_support
				value = 1
			}
			hidden_effect = {
				complete_national_focus = CFD_andtheresultis  
			}
		}
    }
	
    option = { ##pro-guerra
        name = CFD_elections.7.b
		CFD = {
			complete_national_focus = CFD_toimprovethesertaoswasteland 
			add_to_variable = {
				var = CFD_guerras_support
				value = 0	#NOTA:AUMENTAR PARA 1 PARA ELEICOES.
			}
			add_to_variable = {
				var = CFD_bezerra_support
				value = 1
			}
			hidden_effect = {
				complete_national_focus = CFD_andtheresultis  
			}
		}
    }
}

country_event = { #Election victorious
    id = CFD_elections.8
    title = CFD_elections.8.t
    desc = CFD_elections.8.d
    is_triggered_only = yes
	hidden = yes
    picture = GFX_report_cfd_elections1

    option = { #PCB Victory
        name = CFD_elections.8.a
		trigger = {
			CFD = {
				check_variable = { CFD_bezerra_support > CFD_guerras_support }
			}
		}
		CFD = {
			hidden_effect = {
				set_country_flag = CFD_elections_over
				set_country_flag = CFD_PCB_Victory
				mark_focus_tree_layout_dirty = yes
				complete_national_focus = CFD_a_new_dawn
				CFD_miguel_arraes = {
					add_country_leader_role = {
						character = CFD_miguel_arraes
						promote_leader = yes
						country_leader = {
							ideology = marxism
							expire = "1995.1.1.1"
							traits = { popular_figurehead2 social_reformer_aol communist_revolutionary }
						}
					}
				}
				set_politics = {ruling_party = communism}
				create_country_leader = {
					name = "-------"
					picture = Portrait_CFD_Collapsed_Government.dds
					expire = "1987.1.1"
					ideology = socialism
					traits = {
						
					}
				}
			}
		}
    }
	
    option = { #Usineiros Victory
        name = CFD_elections.8.b
		trigger = {
			CFD = {
				check_variable = { CFD_guerras_support > CFD_bezerra_support }
			}
		}
		CFD = {
			hidden_effect = {
				set_country_flag = CFD_elections_over
				set_country_flag = CFD_PSNU_Victory
				mark_focus_tree_layout_dirty = yes
				complete_national_focus = CFD_a_new_dawn
				CFD_miguel_arraes = {
					add_country_leader_role = {
						character = CFD_miguel_arraes
						promote_leader = yes
						country_leader = {
							ideology = corporate_state_status_quo
							expire = "1995.1.1.1"
							traits = { popular_figurehead2 }
						}
					}
				}
				set_politics = {ruling_party = neutrality}
				create_country_leader = {
					name = "-------"
					picture = Portrait_CFD_Collapsed_Government.dds
					expire = "1987.1.1"
					ideology = socialism
					traits = {
						
					}
				}
			}
		}
    }
}

country_event = { #PSN leader mini game
    id = CFD_elections.9
    title = CFD_elections.9.t
    desc = CFD_elections.9.d
    is_triggered_only = yes
    picture = GFX_report_cfd_elections1

    option = { ##coronel won... good for him i guess
        name = CFD_elections.9.a
		trigger = {
			CFD = {
				AND = {
					check_variable = { CFD_teodorico_support > CFD_guerras_support }
					check_variable = { CFD_teodorico_support > CFD_aluizio_support }
				}
			}
		}
		CFD = {
			CFD = {
				set_country_flag = CFD_PSN_teodorico_victory
			}
		}
    }
	
    option = { ##guerra won lmao
        name = CFD_elections.9.b
		trigger = {
			CFD = {
				AND = {
					check_variable = { CFD_guerras_support > CFD_teodorico_support }
					check_variable = { CFD_guerras_support > CFD_aluizio_support }
				}
			}
		}
		CFD = {
			set_country_flag = CFD_PSN_guerra_victory
		}
    }
	
    option = { ##aluizio won great news
        name = CFD_elections.9.c
		trigger = {
			CFD = {
				AND = {
					check_variable = { CFD_aluizio_support > CFD_guerras_support }
					check_variable = { CFD_aluizio_support > CFD_teodorico_support }
				}
			}
		}
		CFD = {
			set_country_flag = CFD_PSN_aluizio_victory
		}
    }
}

###########################	The Operations	###########################

country_event = {
    id = CFD_operations.1
    title = CFD_operations.1.t
    desc = CFD_operations.1.d
    is_triggered_only = yes
    picture = GFX_report_event_guerrilla

    option = {
        name = CFD_operations.1.a
		PIA = {
			CFD = {
				set_province_controller = 330
			}
		}
    }
}

country_event = {
    id = CFD_operations.2
    title = CFD_operations.2.t
    desc = CFD_operations.2.d
    is_triggered_only = yes
    picture = GFX_report_event_guerrilla

    option = {
        name = CFD_operations.2.a
		PIA = {
			CFD = {
				set_province_controller = 941
				set_province_controller = 330
			}
		}
    }
}

country_event = {
    id = CFD_operations.3
    title = CFD_operations.3.t
    desc = CFD_operations.3.d
    is_triggered_only = yes
    picture = GFX_report_event_guerrilla

    option = {
        name = CFD_operations.3.a
		PIA = {
			CFD = {
				set_province_controller = 1384
			}
		}
    }
}

country_event = {
    id = CFD_operations.4
    title = CFD_operations.4.t
    desc = CFD_operations.4.d
    is_triggered_only = yes
    picture = GFX_report_event_guerrilla

    option = {
        name = CFD_operations.4.a
		PIA = {
			CFD = {
				set_province_controller = 2103
			}
		}
    }
}

country_event = {
    id = CFD_operations.5
    title = CFD_operations.5.t
    desc = CFD_operations.5.d
    is_triggered_only = yes
    picture = GFX_report_event_guerrilla

    option = {
        name = CFD_operations.5.a
		PIA = {
			CFD = {
				set_province_controller = 3973
			}
		}
    }
}

country_event = {
    id = CFD_operations.6
    title = CFD_operations.6.t
    desc = CFD_operations.6.d
    is_triggered_only = yes
    picture = GFX_report_event_guerrilla

    option = {
        name = CFD_operations.6.a
		PIA = {
			CFD = {
				add_to_variable = {
					var = sarney_puto_value
					value = 0.5
				}
				set_province_controller = 1236
			}
		}
    }
}

country_event = {
    id = CFD_operations.7
    title = CFD_operations.7.t
    desc = CFD_operations.7.d
    is_triggered_only = yes
    picture = GFX_report_event_guerrilla

    option = {
        name = CFD_operations.7.a
		PIA = {
			CFD = {
				set_province_controller = 4003
			}
		}
    }
}

country_event = {
    id = CFD_operations.8
    title = CFD_operations.8.t
    desc = CFD_operations.8.d
    is_triggered_only = yes
    picture = GFX_report_event_guerrilla

    option = {
        name = CFD_operations.8.a
		PIA = {
			CFD = {
				set_province_controller = 3951
			}
		}
    }
}

country_event = {
    id = CFD_operations.9
    title = CFD_operations.9.t
    desc = CFD_operations.9.d
    is_triggered_only = yes
    picture = GFX_report_event_guerrilla

    option = {
        name = CFD_operations.9.a
		PIA = {
			CFD = {
				add_to_variable = {
					var = sarney_puto_value
					value = 0.5
				}
				set_province_controller = 1844
				set_country_flag = operations_completed
				activate_decision = CFD_op_parnaiba
			}
		}
    }
}

country_event = {
    id = CFD_operations.10
    title = CFD_operations.10.t
    desc = CFD_operations.10.d
    is_triggered_only = yes
    picture = GFX_report_event_guerrilla

    option = {
        name = CFD_operations.10.a
		PIA = {
			CFD = {
				set_province_controller = 3903
			}
		}
    }
}

country_event = {
    id = CFD_operations.11
    title = CFD_operations.11.t
    desc = CFD_operations.11.d
    is_triggered_only = yes
    picture = GFX_report_event_guerrilla

    option = {
        name = CFD_operations.11.a
		PIA = {
			CFD = {
				set_province_controller = 52
			}
		}
    }
}

country_event = {
    id = CFD_operations.12
    title = CFD_operations.12.t
    desc = CFD_operations.12.d
    is_triggered_only = yes
    picture = GFX_report_event_guerrilla

    option = {
        name = CFD_operations.12.a
		CFD = {
			country_event = {
				id = CFD_operations.13
				days = 30
			}
			remove_mission = CFD_maranhao_war_on_piaui
			hidden_effect = {
				MNH = {
					country_event = {
						id = MNH.2
						days = 5
					}
				}
			}
		}
    }
}

country_event = {
    id = CFD_operations.13
    title = CFD_operations.13.t
    desc = CFD_operations.13.d
    is_triggered_only = yes
	fire_only_once = yes
    picture = GFX_report_cfd_elections1

    option = {
        name = CFD_operations.13.a
		CFD = {
			clr_country_flag = portella_alive
			add_advisor_role = {
				character = CFD_pretonio_portella
				advisor = {
					slot = army_chief
					cost = 50
					idea_token = CFD_pretonio_portella
					traits = {
						carm_decisive_battle_doctrine carm_elastic_defence_doctrine
					}
					available = {
						CFD = {
							controls_state = 15
						}
					}
				}
				activate = yes
			}
			15 = {
				set_demilitarized_zone = yes
			}
		}
    }
}

country_event = { #Portella gets hit
    id = CFD_operation_failure.1
    title = CFD_operation_failure.1.t
    desc = CFD_operation_failure.1.d
    is_triggered_only = yes
    picture = GFX_report_event_guerrilla

    option = {
        name = CFD_operation_failure.1.a
		CFD = {
			CFD_pretonio_portella = {
				add_timed_unit_leader_trait = {
					trait = wounded
					days = 14
				}
			}
			add_to_variable = {
				var = cfd_piaui_frontier_progress
				value = -0.055
			}
			add_to_variable = {
				var = portella_health_status
				value = 0.5
			}
		}
    }
}

country_event = { #Portella Dies
    id = CFD_operation_failure.2
    title = CFD_operation_failure.2.t
    desc = CFD_operation_failure.2.d
    picture = GFX_report_event_guerrilla
	fire_only_once = yes
	trigger = {
		tag = CFD
		check_variable = { portella_health_status = 3 }
	}
    option = {
        name = CFD_operation_failure.2.a
		CFD = {
			set_country_flag = portella_dead
			clear_variable = cfd_piaui_frontier_progress
		}
    }
}

country_event = { #Frontier downfall
    id = CFD_operation_failure.3
    title = CFD_operation_failure.3.t
    desc = CFD_operation_failure.3.d
    is_triggered_only = yes
    picture = GFX_report_event_guerrilla

    option = {
        name = CFD_operation_failure.3.a
		CFD = {
			clr_country_flag = portella_alive
			clr_country_flag = begin_piaui_frontier
			add_stability = -0.25
			set_country_flag = operations_completed
		}
    }
}

country_event = { #Failstate stuff
    id = CFD_failometer_enabled.1
    title = CFD_failometer_enabled.1.t
    desc = CFD_failometer_enabled.1.d
    fire_only_once = yes
    is_triggered_only = yes
    picture = x

    option = {
        name = CFD_failometer_enabled.1.a
		
        #NUD = {
		#	add_opinion_modifier = { target = INT modifier = large_increase }
		#	load_oob = "NUD_1967"
		#	transfer_state = 503
		#	declare_war_on = {
        #        target = CFD
        #        type = annex_everything
        #    }
        #}
		CFD = {
			white_peace = {
				tag = MNH
				message = CFD_MNH_LOST
			}
		}
    }
}

################################################	SERTANEJA COLLAPSE EVENTS.		################################################

country_event = {
    id = CFD.1 # PEB breaks away from CFD
    title = CFD.1.t
    desc = CFD.1.d
    fire_only_once = yes
    is_triggered_only = yes
    picture = x

    option = {
        name = CFD.1.a
        delete_unit_template_and_units = {
            division_template = "Comando da PMMA"
            disband = yes
        }
        delete_unit_template_and_units = {
            division_template = "Comando da PMSE"
            disband = yes
        }
        delete_unit_template_and_units = {
            division_template = "Comando da PMPE"
            disband = yes
        }
        delete_unit_template_and_units = {
            division_template = "Liga Camponesa"
            disband = yes
        }
        delete_unit_template_and_units = {
            division_template = "Batalhão de Caçadores"
            disband = yes
        }
        delete_unit_template_and_units = {
            division_template = "Batalhão de Infantaria"
            disband = yes
        }
        delete_unit_template_and_units = {
            division_template = "Comando da PMPI"
            disband = yes
        }
		release = PEB
        CFD = {
			country_event = { id = CFD.2 days = 14 }
            set_politics = {
                ruling_party = communism
                last_election = "1967.1.1"
                election_frequency = 48
                elections_allowed = no
            }
            set_popularities = {
                democratic = 0
                fascism = 0
                communism = 100
                neutrality = 0
                reactionary = 0
            }
			create_country_leader = {
				name = "Collapsed Government" 
				desc = ""
				picture = Portrait_CFD_Collapsed_Government.dds
				expire = "1965.1.1"
				ideology = anarchism
				traits = {
					
				}
			}
			clr_country_flag = CFD_elections_phase_1
        }
        PEB = {
			set_nationality = {
				target_country = PEB
				character = CFD_joao_bezerra_de_araujo
			}
			set_nationality = {
				target_country = PEB
				character = CFD_inima_siqueira
			}
			set_nationality = {
				target_country = PEB
				character = CFD_hangho_trench
			}
			change_tag_from = CFD
			load_oob = "PEB_1967"
			country_event = { id = PEB.1 days = 7 }
		}
    }
}

country_event = {
    id = CFD.2 # CEA breaks away from CFD
    title = CFD.2.t
    desc = CFD.2.d
    fire_only_once = yes
    is_triggered_only = yes
    picture = x

    option = {
        name = CFD.2.a
        CEA = {
            transfer_state  = 14
            transfer_state  = 12
            load_oob = "CEA_1967"
            declare_war_on = {
                target = CFD 
                type = annex_everything
            }

            declare_war_on = {
                target = PEB 
                type = annex_everything
            }
            declare_war_on = {
              target = INT
              type = annex_everything
            }
            declare_war_on = {
              target = NUD
              type = annex_everything
            }
            random_country_with_original_tag = {
                original_tag_to_check = PEB
                limit = {
                    has_government = communism
                }
                declare_war_on = {
                    target = PREV 
                    type = annex_everything
                }
            }
        }
        country_event = { id = CFD.3 days = 3 }
    }
}

country_event = {
    id = CFD.3 # RGN breaks away from CFD
    title = CFD.3.t
    desc = CFD.3.d
    fire_only_once = yes
    is_triggered_only = yes
    picture = x

    option = {
        name = CFD.3.a

        CFD = { remove_ideas = gateway_of_south_america }

        RGN = {
            transfer_state  = 3
            transfer_state  = 4
            transfer_state  = 5
            load_oob = "RGN_1967"
            declare_war_on = {
                target = CFD
                type = annex_everything
            }
            declare_war_on = {
              target = INT
              type = annex_everything
            }
            declare_war_on = {
                target = PEB 
                type = annex_everything
            }

            declare_war_on = {
                target = CEA
                type = annex_everything
            }

            random_country_with_original_tag = {
                original_tag_to_check = PEB
                limit = {
                    has_government = communism
                }
                declare_war_on = {
                    target = PREV 
                    type = annex_everything
                }
            }
        }
        country_event = { id = CFD.4 days = 3 }
    }
}

country_event = {
    id = CFD.5 # ALA breaks away from CFD
    title = CFD.5.t
    desc = CFD.5.d
    fire_only_once = yes
    is_triggered_only = yes
    picture = x

    option = {
        name = CFD.5.a
		every_country = {
			news_event = {
				id = world.79
				days = 1
			}
		}
        ALA = {
            transfer_state  = 10
            load_oob = "ALA_1967"
            declare_war_on = {
                target = CFD
                type = annex_everything
            }
            declare_war_on = {
              target = INT
              type = annex_everything
            }
            declare_war_on = {
                target = PEB 
                type = annex_everything
            }

            declare_war_on = {
                target = CEA
                type = annex_everything
            }

            declare_war_on = {
                target = RGN
                type = annex_everything
            }

            declare_war_on = {
                target = PAI
                type = annex_everything
            }
            
            random_country_with_original_tag = {
                original_tag_to_check = PEB
                limit = {
                    has_government = communism
                }
                declare_war_on = {
                    target = PREV 
                    type = annex_everything
                }
            }
        }
    }
}

country_event = {
    id = PEB.1 # Prestes prepares to uprise at Petrolina
    title = PEB.1.t
    desc = PEB.1.d
    picture = x
    is_triggered_only = yes
    fire_only_once = yes 

    option = {
      name = PEB.1.a
      8 = {
        set_demilitarized_zone = yes
      }
      country_event = { id = PEB.2 days = 3 }
  }
}

country_event = {
    id = PEB.2
    title = PEB.2.t
    desc = PEB.2.d
    picture = x
    is_triggered_only = yes
    fire_only_once = yes 

    option = {
      name = PEB.2.a
		8 = {
			set_demilitarized_zone = no
		}
		CFD = {
			set_country_flag = prestes_returned
		}
      INT = {
        transfer_state = 8
        add_state_core = 8
        load_oob = "INT_1967"
		load_oob = "INT_revolutionary_divisions"
      }
      country_event = { id = PEB.3 }
  }
} 


country_event = {
    id = PEB.3
    title = PEB.3.t
    desc = PEB.3.d
    picture = x
    is_triggered_only = yes
    fire_only_once = yes 

    option = {
      name = PEB.3.a

    INT = {
	  
        declare_war_on = {
          target = CFD
          type = annex_everything
        }

            28 = { set_demilitarized_zone = yes }
            502 = { set_demilitarized_zone = yes }
            501 = { set_demilitarized_zone = yes }
            30 = { set_demilitarized_zone = yes }
		create_faction = partido_comunista_brasileiro_FACTION
    }
  } 
}
